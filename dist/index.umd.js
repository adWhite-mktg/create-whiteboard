#!/usr/bin/env node
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t():"function"==typeof define&&define.amd?define(t):t()}(0,function(){"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var e=require("path"),t=require("loading-cli"),r=require("slugify").default,s=require("prompts"),u=require("make-dir"),o=require("commander"),a=require("chalk").default,n=require("promisepipe"),F=require("got"),i=require("replace"),l=require("tar").extract,c=require("./package.json"),d="";new o.Command(c.name).version(c.version).arguments("[directory]").usage(""+a.green("[project-directory]")).action(function(e){d=e}).parse(process.argv),function(o){try{o&&"string"==typeof o?(console.log(),console.log(a.blue("Attempting to install theme at")+" "+a.bold(e.resolve(o))),console.log()):(console.log(),console.log(""+a.blue("project directory not specified, using slug as directory name.")),console.log());var c=[{type:"text",name:"name",message:"Theme name",initial:"My Awesome Theme"},{type:"text",name:"slug",message:"Theme slug",initial:"my-awesome-theme",validate:function(e){return!!/^[A-Za-z0-9]+(?:-[A-Za-z0-9]+)*$/.test(e)||"Invalid slug. Use: "+a.bold(r(e.toLowerCase()))}},{type:"text",name:"author",message:"Author name",initial:"Jon Snow"},{type:"text",name:"url",message:"Author URI",initial:"https://github.com/jonsow",validate:function(e){return!!/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)||"Invalid URL."}},{type:"text",name:"description",message:"Description"}],d=t(""+a.blue("Downloading and extracting files."));d.frame(["←","↖","↑","↗","→","↘","↓","↙"]);var m=function(t,m){try{var p=Promise.resolve(s(c)).then(function(t){var s=t.name,c=t.slug,m=t.author,p=t.url,h=t.description,g=e.resolve(o?o.trim():c.trim());return Promise.resolve(u(g)).then(function(){return process.chdir(g),console.log(),d.start(),Promise.resolve(function(e){try{return Promise.resolve(n(F.stream("https://codeload.github.com/adWhite-mktg/whiteboard/tar.gz/master"),l({cwd:e,strip:1})))}catch(e){return Promise.reject(e)}}(g)).then(function(){i({regex:"Theme Name: Whiteboard",replacement:"Theme Name: "+s,paths:["./src/scss/defaults/wordpress.scss","./style.css"],silent:!0}),i({regex:"Author: Juan Olvera",replacement:"Author: "+m,paths:["./src/scss/defaults/wordpress.scss","./style.css"],silent:!0}),i({regex:"Author URI: https://github.com/j0lv3r4",replacement:"Author URI: "+p,paths:["./src/scss/defaults/wordpress.scss","./style.css"],silent:!0}),i({regex:"Description: Starter theme based on _s",replacement:"Description "+h,paths:["./src/scss/defaults/wordpress.scss","./style.css"],silent:!0}),i({regex:"Text Domain: whiteboard",replacement:"Text Domain: "+c,paths:["./src/scss/defaults/wordpress.scss","./style.css"],silent:!0}),i({regex:"whiteboard_",replacement:r(c,"_")+"_",paths:[g],recursive:!0,include:"*.php",silent:!0}),i({regex:" Whiteboard",replacement:" "+r(s,"_"),paths:[g],recursive:!0,include:"*.php",silent:!0}),i({regex:"whiteboard-",replacement:c+"-",paths:[g],recursive:!0,include:"*.php",silent:!0}),i({regex:"'whiteboard'",replacement:"'"+c+"'",paths:[g],recursive:!0,include:"*.php",silent:!0}),d.stop(),d.succeed(a.green("Success!")+" Created "+a.blue.bold(s)+" at "+a.blue.bold(g)),console.log()})})})}catch(e){return m(e)}return p&&p.then?p.then(void 0,m):p}(0,function(e){d.fail("Unexpected error. See below."),console.error(e)});Promise.resolve(m&&m.then?m.then(function(){}):void 0)}catch(e){return Promise.reject(e)}}(d)});
//# sourceMappingURL=index.umd.js.map
